import{c as e,d as l,r as t,a,o as s,w as o,b as i,e as n,f as c,v as u,g as d,h as r,u as p,i as h,F as m,j as v,t as f,k as g,l as b,m as k}from"./vendor.f24596ac.js";const w=e({todoList:class{constructor(){this.list=[]}get remaining(){return this.filter("active")}add(e){this.list.unshift(e)}remove(e){const l=this.list.findIndex((l=>l.id===e));l>-1&&this.list.splice(l,1)}clear(){this.list=[]}filter(e){return"all"===e?this.list:"active"===e?this.list.filter((e=>!e.complete)):"completed"===e?this.list.filter((e=>e.complete)):[]}removeCompleted(){this.list=this.filter("active")}allDone(){this.list.forEach((e=>e.complete=!0))}allActive(){this.list.forEach((e=>e.complete=!1))}}});let y=1;class C{constructor(e){this.title="",this.complete=!1,this.id=y++,Object.assign(this,e)}toggle(){this.complete=!this.complete}get testName(){return this.title+"...test"}}const U={class:"todoapp"},V={class:"header"},D=n("h1",null,"todos",-1),x={class:"main"},A=n("label",{for:"toggle-all"},null,-1),K={class:"todo-list"},j={class:"view"},E={class:"footer"},L={class:"todo-count"},B={class:"filters"},F=n("footer",{class:"info"},[n("p",null,"Double-click to edit a todo")],-1);k(l({setup(e){const l=w.useStore("todoList"),k=t(""),y=t("all"),I=t(!1),N=t(),O=t(""),S=a((()=>l.filter(y.value))),W=()=>{const e=k.value&&k.value.trim();e&&(l.add(new C({title:e})),k.value="")},q=()=>{l.removeCompleted()},z=e=>{N.value&&(N.value=void 0,e.title=e.title.trim(),e.title||l.remove(e.id))};function G(){var e=window.location.hash.replace(/#\/?/,"");["all","active","completed"].includes(e)?(y.value=e,l.filter(e)):(window.location.hash="",y.value="all")}return s((()=>{window.addEventListener("hashchange",G),G()})),o((()=>{I.value?l.allDone():l.allActive()})),(e,t)=>{return b(),i(m,null,[n("section",U,[n("header",V,[D,c(n("input",{class:"new-todo",autofocus:"",autocomplete:"off",placeholder:"What needs to be done?","onUpdate:modelValue":t[1]||(t[1]=e=>k.value=e),onKeyup:d(W,["enter"])},null,40,["onKeyup"]),[[u,k.value]])]),c(n("section",x,[c(n("input",{id:"toggle-all",class:"toggle-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>I.value=e)},null,512),[[h,I.value]]),A,n("ul",K,[(b(!0),i(m,null,v(p(S),(e=>(b(),i("li",{class:["todo",{completed:e.complete,editing:e==N.value}],key:e.id},[n("div",j,[c(n("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":l=>e.complete=l},null,8,["onUpdate:modelValue"]),[[h,e.complete]]),n("label",{onDblclick:l=>(e=>{O.value=e.title,N.value=e})(e)},f(e.title),41,["onDblclick"]),n("button",{class:"destroy",onClick:t=>(e=>{l.remove(e.id)})(e)},null,8,["onClick"])]),c(n("input",{class:"edit",type:"text","onUpdate:modelValue":l=>e.title=l,onBlur:l=>z(e),onKeyup:[d((l=>z(e)),["enter"]),d((l=>(e=>{N.value=void 0,e.title=O.value})(e)),["esc"])]},null,40,["onUpdate:modelValue","onBlur","onKeyup"]),[[u,e.title]])],2)))),128))])],512),[[r,p(l).list.length]]),c(n("footer",E,[n("span",L,[n("strong",null,f(p(l).remaining.length),1),g(" "+f((a=p(l).remaining.length,1===a?"item":"items"))+" left ",1)]),n("ul",B,[n("li",null,[n("a",{href:"#/all",class:{selected:"all"==y.value}},"All",2)]),n("li",null,[n("a",{href:"#/active",class:{selected:"active"==y.value}}," Active ",2)]),n("li",null,[n("a",{href:"#/completed",class:{selected:"completed"==y.value}}," Completed ",2)])]),c(n("button",{class:"clear-completed",onClick:q}," Clear completed ",512),[[r,p(l).list.length>p(l).remaining.length]])],512),[[r,p(l).list.length]])]),F],64);var a}}})).mount("#app");
